<!DOCTYPE html>
<html lang="en-US" dir="ltr" data-critters-container>
  <head>
    <title>My app</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="google-pay-angular-tunhzs/styles.css">
</head>
  <body>

    <!-- The merchant's custom "Pay Now" button -->
<button id="pay-now">Pay Now</button>

<!-- Container where the Angular Element can render -->
<div id="fusion-container"></div>

<script>
  document.getElementById('pay-now').addEventListener('click', () => {
    const container = document.getElementById('fusion-container');
    // Create the Angular Fusuion Element dynamically
    const fusionApp = document.createElement('my-app');
    fusionApp.setAttribute('request-key', 'requestKey123');
    fusionApp.setAttribute('session-token', 'sessionToken123');
    fusionApp.setAttribute('base-url', 'https://api.payenplatform.com');
    fusionApp.setAttribute('merchant-id', '10000001');
    fusionApp.setAttribute('theme', 'light');
    container.appendChild(fusionApp); // Render the component
    // Listen for a success event
    fusionApp.addEventListener('payment-success', (event) => {
      console.log('Payment successful:', event.detail);
    });
    // Listen for a digest-ready event
    fusionApp.addEventListener('digest-ready', (event) => {
      console.log('Digest received:', event.detail.digest);
    });
    // Listen for a payment-error event
    fusionApp.addEventListener('payment-error', (event) => {
      console.error('Payment error:', event.detail);
    });
  });
</script>

<!-- <style>
  :root {
    --primary-theme-color: red;
    --button-text-color: #ffffff;
  }
</style> -->

  <script src="google-pay-angular-tunhzs/my-app.js" type="module"></script></body>
</html>